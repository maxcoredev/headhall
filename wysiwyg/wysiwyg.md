# KNOWN ISSUES

1. КЕЙС В FF 123.0.1
   1. Вставили картинку.
   2. На следующей строке написали пару слов.
   3. Выделили эту строку с парой слов на OSX через Shift + Arrow Up.
   4. Нажали Backspace.
   Если картинка шла первой строкой — она сотрётся.
   Если перед картинкой есть строка (даже пустая) картинка НЕ сотрётся, а курсор встанет на ту строку над картинкой.

2. КЕЙС В FF до или 123.0.1 — достоверно не известно
   Однажды, активно тестируя Вусивуг, обнаружилось br внутри br `<br><br></br>`.
   Был ли ещё какой-то контент — не известно.

# KNOWN THINGS

1. В FF всё же можно поставить курсор справа от картинки.
   Но если в Хроме можно просто ткнуть курсором в белые "поля" СПРАВА,
   То в FF нужно что-то постирать через Backspace с нижней строки.
2. keydown vs input
   Если у contenteditable посмотреть innerHTML при keydown или paste — будет ещё неизменённый контент
   Если у contenteditable посмотреть innerHTML при input — будет уже изменённый контент
3. selection vs range 
   selection.anchorNode (alias baseNode), selection.focusNode (alias extentNode) — 
   — это не верхняя и нижняя, а та с которой мы начали выделение и та на которой мы закончили.
   Т.е. условные, как бы мы их назвали — firstNode и lastNode — то, что нам предстоит выяснять самостоятельно.
   range.startOffset — всегда начальная. range.endOffset — всегда конечная.
   Вывод: selection — не прагматичен для нас. range — прагматичен.
4. Контент, удалённый по range.deleteContents() нельзя вернуть по Ctrl+Z, но можно по Ctrl+Shift+Z (как минимум в Хроме)
5. Когда меняешь range, нужно поменять и selection.
6. В keydown приходят текущие, ещё неизменённый offset-ы. Но, ноды — уже новые. Но контент в них — старый. :D

# ВОПРОСЫ

- Что лучше — execCommand vs innerHTML vs after/append?